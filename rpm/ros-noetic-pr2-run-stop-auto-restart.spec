%bcond_without weak_deps

%global __os_install_post %(echo '%{__os_install_post}' | sed -e 's!/usr/lib[^[:space:]]*/brp-python-bytecompile[[:space:]].*$!!g')
%global __provides_exclude_from ^/opt/ros/noetic/.*$
%global __requires_exclude_from ^/opt/ros/noetic/.*$

Name:           ros-noetic-pr2-run-stop-auto-restart
Version:        1.6.32
Release:        1%{?dist}%{?release_suffix}
Summary:        ROS pr2_run_stop_auto_restart package

License:        BSD
URL:            http://ros.org/wiki/pr2_run_stop_auto_restart
Source0:        %{name}-%{version}.tar.gz

Requires:       ros-noetic-pr2-msgs
Requires:       ros-noetic-pr2-power-board
Requires:       ros-noetic-roscpp
Requires:       ros-noetic-std-srvs
BuildRequires:  ros-noetic-catkin
BuildRequires:  ros-noetic-pr2-msgs
BuildRequires:  ros-noetic-pr2-power-board
BuildRequires:  ros-noetic-roscpp
BuildRequires:  ros-noetic-std-srvs
Provides:       %{name}-devel = %{version}-%{release}
Provides:       %{name}-doc = %{version}-%{release}
Provides:       %{name}-runtime = %{version}-%{release}

%description
This package provides a node that monitors the state of the run stops of the
pr2_robot. When the state of the run stop changes from off to on, this node will
automatically enable the power to the motors, and reset the motors. This allows
you to use the run stop as a 'pause' button. By using the run stop as a tool to
power up the robot, the run stop is also in reach of the user once the robot
starts moving.

%prep
%autosetup -p1

%build
# In case we're installing to a non-standard location, look for a setup.sh
# in the install tree that was dropped by catkin, and source it.  It will
# set things like CMAKE_PREFIX_PATH, PKG_CONFIG_PATH, and PYTHONPATH.
if [ -f "/opt/ros/noetic/setup.sh" ]; then . "/opt/ros/noetic/setup.sh"; fi
mkdir -p obj-%{_target_platform} && cd obj-%{_target_platform}
%cmake3 \
    -UINCLUDE_INSTALL_DIR \
    -ULIB_INSTALL_DIR \
    -USYSCONF_INSTALL_DIR \
    -USHARE_INSTALL_PREFIX \
    -ULIB_SUFFIX \
    -DCMAKE_INSTALL_PREFIX="/opt/ros/noetic" \
    -DCMAKE_PREFIX_PATH="/opt/ros/noetic" \
    -DSETUPTOOLS_DEB_LAYOUT=OFF \
    -DCATKIN_BUILD_BINARY_PACKAGE="1" \
    ..

%make_build

%install
# In case we're installing to a non-standard location, look for a setup.sh
# in the install tree that was dropped by catkin, and source it.  It will
# set things like CMAKE_PREFIX_PATH, PKG_CONFIG_PATH, and PYTHONPATH.
if [ -f "/opt/ros/noetic/setup.sh" ]; then . "/opt/ros/noetic/setup.sh"; fi
%make_install -C obj-%{_target_platform}

%files
/opt/ros/noetic

%changelog
* Wed May 26 2021 Dave Feil-Seifer <dave@cse.unr.edu> - 1.6.32-1
- Autogenerated by Bloom

